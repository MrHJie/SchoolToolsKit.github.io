<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ® è¶£å‘³é€šçŸ¥ç”Ÿæˆå™¨ ğŸ®</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #6e8efb, #a777e3);
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        h1 {
            text-align: center;
            color: #4a4a4a;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .input-group {
            margin-bottom: 20px;
            position: relative;
            transition: transform 0.3s;
        }

        .input-group:hover {
            transform: scale(1.02);
        }

        label {
            display: block;
            margin-bottom: 8px;
            color: #555;
            font-weight: bold;
            font-size: 1.1em;
        }

        input, textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 1em;
            transition: all 0.3s;
            background: white;
        }

        input:focus, textarea:focus {
            border-color: #6e8efb;
            box-shadow: 0 0 10px rgba(110, 142, 251, 0.3);
            outline: none;
        }

        .emoji-label {
            position: absolute;
            right: 10px;
            top: 40px;
            font-size: 1.5em;
            opacity: 0.7;
        }

        .copy-btn {
            display: block;
            width: 100%;
            padding: 15px;
            background: linear-gradient(45deg, #6e8efb, #a777e3);
            border: none;
            border-radius: 10px;
            color: white;
            font-size: 1.2em;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 30px;
        }

        .copy-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        #result {
            margin-top: 30px;
            padding: 20px;
            border-radius: 10px;
            background: #f8f9fa;
            display: none;
        }

        .deadline-warning {
            color: #ff4757;
            font-weight: bold;
            padding: 10px;
            border: 2px solid #ff4757;
            border-radius: 8px;
            margin: 15px 0;
            background-color: rgba(255, 71, 87, 0.1);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.02);
            }
            100% {
                transform: scale(1);
            }
        }

        /* ä¿®æ”¹åŸæœ‰çš„å“åº”å¼å¸ƒå±€æ ·å¼ */
        @media screen and (max-width: 768px) {
            body {
                padding: 10px;
            }

            .container {
                padding: 15px;
                margin: 0;
                border-radius: 15px;
            }

            h1 {
                font-size: 1.5em;
                margin-bottom: 20px;
            }

            .input-group {
                margin-bottom: 12px;
            }

            label {
                font-size: 0.95em;
                margin-bottom: 4px;
            }

            input, textarea {
                padding: 8px 12px;
                font-size: 16px; /* é˜²æ­¢ iOS è‡ªåŠ¨ç¼©æ”¾ */
                border-radius: 8px;
            }

            .emoji-label {
                top: 35px;
                font-size: 1.2em;
                right: 8px;
            }

            .copy-btn {
                padding: 12px;
                font-size: 1em;
                margin-top: 20px;
            }

            #result {
                padding: 15px;
                font-size: 0.95em;
            }

            .deadline-warning {
                padding: 8px;
                font-size: 0.9em;
                margin: 10px 0;
            }

            /* ä¼˜åŒ–ç§»åŠ¨ç«¯è¾“å…¥ä½“éªŒ */
            input[type="datetime-local"] {
                min-height: 44px; /* å¢åŠ è§¦æ‘¸åŒºåŸŸ */
            }

            textarea {
                min-height: 60px;
            }

            /* å–æ¶ˆæ‚¬åœæ•ˆæœï¼Œæ”¹å–„ç§»åŠ¨ç«¯ä½“éªŒ */
            .input-group:hover {
                transform: none;
            }

            /* ä¼˜åŒ–å¤åˆ¶æˆåŠŸæç¤º */
            .copy-success {
                padding: 10px 20px;
                font-size: 0.9em;
                width: 80%;
                text-align: center;
            }
        }

        /* æ·»åŠ ä¸­ç­‰å±å¹•çš„ */
        @media screen and (min-width: 769px) and (max-width: 1024px) {
            .container {
                max-width: 90%;
                padding: 25px;
            }

            input, textarea {
                font-size: 1em;
            }
        }

        /* æ·»åŠ é¢„è§ˆåŒºåŸŸæ ·å¼ */
        .preview-container {
            margin-top: 30px;
            padding: 20px;
            border: 2px dashed #6e8efb;
            border-radius: 10px;
            background: #fff;
        }

        .preview-title {
            color: #4a4a4a;
            text-align: center;
            margin-bottom: 20px;
        }

        /* æ·»åŠ å¤åˆ¶æˆåŠŸæç¤ºæ ·å¼ */
        .copy-success {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(46, 204, 113, 0.9);
            color: white;
            padding: 15px 30px;
            border-radius: 8px;
            animation: fadeOut 1.5s forwards;
        }

        @keyframes fadeOut {
            0% { opacity: 1; }
            70% { opacity: 1; }
            100% { opacity: 0; }
        }

        select {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 1em;
            transition: all 0.3s;
            background: white;
            appearance: none;
            -webkit-appearance: none;
            -moz-appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 1rem center;
            background-size: 1em;
        }

        select:focus {
            border-color: #6e8efb;
            box-shadow: 0 0 10px rgba(110, 142, 251, 0.3);
            outline: none;
        }

        /* æ·»åŠ é”™è¯¯æç¤ºæ ·å¼ */
        .invalid {
            border-color: #ff4757 !important;
            animation: shake 0.5s;
        }

        .error-message {
            color: #ff4757;
            font-size: 0.9em;
            margin-top: 5px;
            padding-left: 5px;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        /* æ·»åŠ æç¤ºæ¡†æ ·å¼ */
        .toast {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%) translateY(-100px);
            padding: 12px 24px;
            border-radius: 8px;
            color: white;
            font-weight: bold;
            opacity: 0;
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .toast.show {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
        }

        .toast.success {
            background: rgba(46, 204, 113, 0.9);
        }

        .toast.error {
            background: rgba(255, 71, 87, 0.9);
        }

        .toast.info {
            background: rgba(52, 152, 219, 0.9);
        }

        /* ä¼˜åŒ–è¾“å…¥æ¡†ç„¦ç‚¹æ•ˆæœ */
        input:focus, textarea:focus, select:focus {
            border-color: #6e8efb;
            box-shadow: 0 0 10px rgba(110, 142, 251, 0.3);
            outline: none;
            transform: translateY(-2px);
        }

        /* æ·»åŠ è¾“å…¥æ¡†è¿‡æ¸¡æ•ˆæœ */
        input, textarea, select {
            transition: all 0.3s ease;
        }

        /* ä¼˜åŒ–æŒ‰é’®æ‚¬åœæ•ˆæœ */
        .copy-btn:hover, .clear-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        /* æ·»åŠ å“åº”å¼è°ƒæ•´ */
        @media screen and (max-width: 768px) {
            .toast {
                width: 90%;
                text-align: center;
            }

            .error-message {
                font-size: 0.8em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>âœ¨ è¶£å‘³é€šçŸ¥ç”Ÿæˆå™¨ âœ¨</h1>
        
        <div class="input-group">
            <label for="templateSelect">é€‰æ‹©é€šçŸ¥æ¨¡æ¿</label>
            <select id="templateSelect" onchange="changeTemplate()">
                <option value="custom">è‡ªå®šä¹‰é€šçŸ¥</option>
                <option value="material">ææ–™æäº¤é€šçŸ¥</option>
                <option value="meeting">ä¼šè®®é€šçŸ¥</option>
                <option value="activity">æ´»åŠ¨æŠ¥åé€šçŸ¥</option>
                <option value="competition">ç«èµ›é€šçŸ¥</option>
                <option value="course">è¯¾ç¨‹å®‰æ’é€šçŸ¥</option>
                <option value="evaluation">è¯„é€‰é€šçŸ¥</option>
                <option value="payment">ç¼´è´¹é€šçŸ¥</option>
                <option value="adjustment">è°ƒæ•´é€šçŸ¥</option>
                <option value="review">è¯„å®¡é€šçŸ¥</option>
                <option value="safety">å®‰å…¨æ£€æŸ¥é€šçŸ¥</option>
            </select>
            <span class="emoji-label">ğŸ“‘</span>
        </div>

        <div id="templateFields">
            <!-- åŠ¨æ€ç”Ÿæˆçš„æ¨¡æ¿å­—æ®µå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
        </div>

        <button onclick="copyNotification()" class="copy-btn">ğŸ“‹ ä¸€é”®å¤åˆ¶é€šçŸ¥ ğŸ“‹</button>

        <div id="result"></div>
    </div>

    <script>
        // å®æ—¶é¢„è§ˆåŠŸèƒ½
        const inputs = document.querySelectorAll('input, textarea');
        inputs.forEach(input => {
            input.addEventListener('input', () => {
                showResult();
            });
        });

        // å®šä¹‰æ¨¡æ¿é…ç½®
        const templates = {
            custom: {
                title: "è‡ªå®šä¹‰é€šçŸ¥",
                fields: [
                    { id: "title", label: "é€šçŸ¥æ ‡é¢˜", type: "text", placeholder: "è¯·è¾“å…¥é€šçŸ¥æ ‡é¢˜", emoji: "ğŸ“¢" },
                    { id: "greeting", label: "ç§°å‘¼", type: "text", placeholder: "è¯·è¾“å…¥ç§°å‘¼", emoji: "ğŸ‘‹" },
                    { id: "content", label: "é€šçŸ¥å†…å®¹", type: "textarea", placeholder: "è¯·è¾“å…¥é€šçŸ¥å†…å®¹", emoji: "ğŸ“" },
                    { id: "location", label: "åœ°ç‚¹", type: "text", placeholder: "è¯·è¾“å…¥åœ°ç‚¹", emoji: "ğŸ“" },
                    { id: "startTime", label: "å¼€å§‹æ—¶é—´", type: "datetime-local", emoji: "ğŸ•" },
                    { id: "endTime", label: "ç»“æŸæ—¶é—´", type: "datetime-local", emoji: "ğŸ•’" },
                    { id: "digitalSubmission", label: "ç”µå­ç‰ˆææ–™æäº¤è¦æ±‚", type: "textarea", placeholder: "è¯·è¾“å…¥ç”µå­ç‰ˆææ–™æäº¤è¦æ±‚", emoji: "ğŸ’»" },
                    { id: "paperSubmission", label: "çº¸è´¨ç‰ˆææ–™æäº¤è¦æ±‚", type: "textarea", placeholder: "è¯·è¾“å…¥çº¸è´¨ç‰ˆææ–™æäº¤è¦æ±‚", emoji: "ğŸ“‹" }
                ],
                reminder: "âš ï¸ ç‰¹åˆ«æé†’ï¼šè¶…è¿‡æˆªæ­¢æ—¶é—´å°†ä¸å†æ¥å—ä»»ä½•å½¢å¼çš„æŠ¥åå’Œææ–™æäº¤ï¼Œè¯·åˆç†å®‰æ’æ—¶é—´ï¼"
            },
            material: {
                title: "ææ–™æäº¤é€šçŸ¥",
                fields: [
                    { id: "title", label: "é€šçŸ¥æ ‡é¢˜", type: "text", placeholder: "è¯·è¾“å…¥é€šçŸ¥æ ‡é¢˜", emoji: "ğŸ“¢" },
                    { id: "greeting", label: "ç§°å‘¼", type: "text", placeholder: "è¯·è¾“å…¥ç§°å‘¼", emoji: "ğŸ‘‹" },
                    { id: "materialList", label: "æäº¤ææ–™æ¸…å•", type: "textarea", placeholder: "è¯·åˆ—å‡ºéœ€è¦æäº¤çš„ææ–™æ¸…å•", emoji: "ğŸ“" },
                    { id: "requirements", label: "æäº¤è¦æ±‚", type: "textarea", placeholder: "è¯·è¾“å…¥æ ¼å¼ã€è£…è®¢ç­‰è¦æ±‚", emoji: "ğŸ“‹" },
                    { id: "paperSubmission", label: "çº¸è´¨ç‰ˆæäº¤æ–¹å¼", type: "textarea", placeholder: "è¯·è¾“å…¥çº¸è´¨ç‰ˆæäº¤æ–¹å¼", emoji: "ğŸ“„" },
                    { id: "digitalSubmission", label: "ç”µå­ç‰ˆæäº¤æ–¹å¼", type: "textarea", placeholder: "è¯·è¾“å…¥ç”µå­ç‰ˆæäº¤æ–¹å¼", emoji: "ğŸ’»" },
                    { id: "startTime", label: "å¼€å§‹æ—¶é—´", type: "datetime-local", emoji: "ğŸ•" },
                    { id: "endTime", label: "æˆªæ­¢æ—¶é—´", type: "datetime-local", emoji: "ğŸ•’" },
                    { id: "reminder", label: "ç‰¹åˆ«æé†’", type: "textarea", placeholder: "è¯·è¾“å…¥ç‰¹åˆ«æé†’", emoji: "âš ï¸" }
                ],
                reminder: "âš ï¸ ç‰¹åˆ«æé†’ï¼šè¶…è¿‡æˆªæ­¢æ—¶é—´å°†ä¸å†æ¥å—ä»»ä½•å½¢å¼çš„æŠ¥åå’Œææ–™æäº¤ï¼Œè¯·åˆç†å®‰æ’æ—¶é—´ï¼"
            },
            meeting: {
                title: "ä¼šè®®é€šçŸ¥",
                fields: [
                    { id: "title", label: "é€šçŸ¥æ ‡é¢˜", type: "text", placeholder: "è¯·è¾“å…¥ä¼šè®®æ ‡é¢˜", emoji: "ğŸ“¢" },
                    { id: "greeting", label: "ç§°å‘¼", type: "text", placeholder: "è¯·è¾“å…¥ç§°å‘¼", emoji: "ğŸ‘‹" },
                    { id: "topic", label: "ä¼šè®®ä¸»é¢˜", type: "text", placeholder: "è¯·è¾“å…¥ä¼šè®®ä¸»é¢˜", emoji: "ğŸ’¡" },
                    { id: "time", label: "ä¼šè®®æ—¶é—´", type: "datetime-local", emoji: "ğŸ•" },
                    { id: "location", label: "ä¼šè®®åœ°ç‚¹", type: "text", placeholder: "è¯·è¾“å…¥ä¼šè®®åœ°ç‚¹", emoji: "ğŸ“" },
                    { id: "attendees", label: "å‚ä¼šäººå‘˜", type: "textarea", placeholder: "è¯·è¾“å…¥å‚ä¼šäººå‘˜åå•", emoji: "ğŸ‘¥" },
                    { id: "agenda", label: "ä¼šè®®è®®ç¨‹", type: "textarea", placeholder: "è¯·è¾“å…¥ä¼šè®®è®®ç¨‹", emoji: "ğŸ“" }
                ],
                reminder: "âš ï¸ è¯·åŠ¡å¿…å‡†æ—¶å‚ä¼šï¼Œå¦‚æœ‰ç‰¹æ®Šæƒ…å†µè¯·æå‰å‘ŠçŸ¥ï¼"
            },
            activity: {
                title: "æ´»åŠ¨æŠ¥åé€šçŸ¥",
                fields: [
                    { id: "title", label: "é€šçŸ¥æ ‡é¢˜", type: "text", placeholder: "è¯·è¾“å…¥æ´»åŠ¨æ ‡é¢˜", emoji: "ğŸ“¢" },
                    { id: "greeting", label: "ç§°å‘¼", type: "text", placeholder: "è¯·è¾“å…¥ç§°å‘¼", emoji: "ğŸ‘‹" },
                    { id: "theme", label: "æ´»åŠ¨ä¸»é¢˜", type: "text", placeholder: "è¯·è¾“å…¥æ´»åŠ¨ä¸»é¢˜", emoji: "ğŸ¯" },
                    { id: "background", label: "æ´»åŠ¨èƒŒæ™¯", type: "textarea", placeholder: "è¯·è¾“å…¥æ´»åŠ¨èƒŒæ™¯è¯´æ˜", emoji: "ğŸ“‹" },
                    { id: "requirements", label: "æŠ¥åæ¡ä»¶", type: "textarea", placeholder: "è¯·è¾“å…¥æŠ¥åæ¡ä»¶", emoji: "ğŸ“" },
                    { id: "startTime", label: "å¼€å§‹æ—¶é—´", type: "datetime-local", emoji: "ğŸ•" },
                    { id: "endTime", label: "ç»“æŸæ—¶é—´", type: "datetime-local", emoji: "ğŸ•’" },
                    { id: "location", label: "æ´»åŠ¨åœ°ç‚¹", type: "text", placeholder: "è¯·è¾“å…¥æ´»åŠ¨åœ°ç‚¹", emoji: "ğŸ“" },
                    { id: "registrationMethod", label: "æŠ¥åæ–¹å¼", type: "textarea", placeholder: "è¯·è¾“å…¥æŠ¥åæ–¹å¼", emoji: "âœï¸" }
                ],
                reminder: "âš ï¸ æŠ¥ååè¯·ä¿æŒè”ç³»æ–¹å¼ç•…é€šï¼Œä»¥ä¾¿æ¥æ”¶æ´»åŠ¨é€šçŸ¥ï¼"
            },
            competition: {
                title: "ç«èµ›é€šçŸ¥",
                fields: [
                    { id: "title", label: "é€šçŸ¥æ ‡é¢˜", type: "text", placeholder: "è¯·è¾“å…¥ç«èµ›æ ‡é¢˜", emoji: "ğŸ“¢" },
                    { id: "greeting", label: "ç§°å‘¼", type: "text", placeholder: "è¯·è¾“å…¥ç§°å‘¼", emoji: "ğŸ‘‹" },
                    { id: "theme", label: "ç«èµ›ä¸»é¢˜", type: "text", placeholder: "è¯·è¾“å…¥ç«èµ›ä¸»é¢˜", emoji: "ğŸ¯" },
                    { id: "requirements", label: "æŠ¥åæ¡ä»¶", type: "textarea", placeholder: "è¯·è¾“å…¥æŠ¥åæ¡ä»¶", emoji: "ğŸ“" },
                    { id: "registrationMethod", label: "æŠ¥åæ–¹å¼", type: "textarea", placeholder: "è¯·è¾“å…¥æŠ¥åæ–¹å¼", emoji: "âœï¸" },
                    { id: "schedule", label: "èµ›äº‹å®‰æ’", type: "textarea", placeholder: "è¯·è¾“å…¥èµ›äº‹æ—¶é—´å®‰æ’", emoji: "ğŸ“…" },
                    { id: "awards", label: "å¥–åŠ±è®¾ç½®", type: "textarea", placeholder: "è¯·è¾“å…¥å¥–é¡¹è®¾ç½®", emoji: "ğŸ†" },
                    { id: "deadline", label: "æˆªæ­¢æ—¶é—´", type: "datetime-local", emoji: "ğŸ•’" }
                ],
                reminder: "âš ï¸ è¯·ç¡®ä¿æäº¤çš„æŠ¥åä¿¡æ¯å‡†ç¡®æ— è¯¯ï¼Œé€¾æœŸæŠ¥åå°†ä¸äºˆå—ç†ï¼"
            },
            course: {
                title: "è¯¾ç¨‹å®‰æ’é€šçŸ¥",
                fields: [
                    { id: "title", label: "é€šçŸ¥æ ‡é¢˜", type: "text", placeholder: "è¯·è¾“å…¥è¯¾ç¨‹æ ‡é¢˜", emoji: "ğŸ“¢" },
                    { id: "greeting", label: "ç§°å‘¼", type: "text", placeholder: "è¯·è¾“å…¥ç§°å‘¼", emoji: "ğŸ‘‹" },
                    { id: "courseName", label: "è¯¾ç¨‹åç§°", type: "text", placeholder: "è¯·è¾“å…¥è¯¾ç¨‹åç§°", emoji: "ğŸ“š" },
                    { id: "teacher", label: "ä»»è¯¾æ•™å¸ˆ", type: "text", placeholder: "è¯·è¾“å…¥ä»»è¯¾æ•™å¸ˆå§“å", emoji: "ğŸ‘¨â€ğŸ«" },
                    { id: "startTime", label: "ä¸Šè¯¾æ—¶é—´", type: "datetime-local", emoji: "ğŸ•" },
                    { id: "location", label: "ä¸Šè¯¾åœ°ç‚¹", type: "text", placeholder: "è¯·è¾“å…¥ä¸Šè¯¾åœ°ç‚¹", emoji: "ğŸ“" },
                    { id: "materials", label: "æ•™æè¦æ±‚", type: "textarea", placeholder: "è¯·è¾“å…¥æ•™æåŠé¢„ä¹ è¦æ±‚", emoji: "ğŸ“–" }
                ],
                reminder: "âš ï¸ è¯·æå‰å¥½å‡†å¤‡ï¼Œå‡†æ—¶å‚åŠ è¯¾ç¨‹ï¼"
            },
            evaluation: {
                title: "è¯„é€‰é€šçŸ¥",
                fields: [
                    { id: "title", label: "é€šçŸ¥æ ‡é¢˜", type: "text", placeholder: "è¯·è¾“å…¥è¯„é€‰æ ‡é¢˜", emoji: "ğŸ“¢" },
                    { id: "greeting", label: "ç§°å‘¼", type: "text", placeholder: "è¯·è¾“å…¥ç§°å‘¼", emoji: "ğŸ‘‹" },
                    { id: "scope", label: "è¯„é€‰èŒƒå›´", type: "textarea", placeholder: "è¯·è¾“å…¥è¯„é€‰èŒƒå›´", emoji: "ğŸ¯" },
                    { id: "criteria", label: "è¯„é€‰æ¡ä»¶", type: "textarea", placeholder: "è¯·è¾“å…¥è¯„é€‰æ¡ä»¶", emoji: "ğŸ“‹" },
                    { id: "materials", label: "ææ–™æ¸…å•", type: "textarea", placeholder: "è¯·è¾“å…¥éœ€è¦æäº¤çš„ææ–™æ¸…å•", emoji: "ğŸ“" },
                    { id: "paperSubmission", label: "çº¸è´¨ææ–™è¦æ±‚", type: "textarea", placeholder: "è¯·è¾“å…¥çº¸è´¨ææ–™æäº¤è¦æ±‚", emoji: "ğŸ“„" },
                    { id: "digitalSubmission", label: "ç”µå­ææ–™è¦æ±‚", type: "textarea", placeholder: "è¯·è¾“å…¥ç”µå­ææ–™æäº¤è¦æ±‚", emoji: "ğŸ’»" },
                    { id: "process", label: "è¯„é€‰æµç¨‹", type: "textarea", placeholder: "è¯·è¾“å…¥è¯„é€‰æµç¨‹", emoji: "ğŸ”„" },
                    { id: "schedule", label: "æ—¶é—´å®‰æ’", type: "textarea", placeholder: "è¯·è¾“å…¥è¯„é€‰æ—¶é—´å®‰æ’", emoji: "ğŸ“…" }
                ],
                reminder: "âš ï¸ è¯·ç¡®ä¿ææ–™çœŸå®æœ‰æ•ˆï¼Œè¯„é€‰ç»“æœå°†ä¸å—ç†ä»»ä½•å¼‚è®®ï¼"
            },
            payment: {
                title: "ç¼´è´¹é€šçŸ¥",
                fields: [
                    { id: "title", label: "é€šçŸ¥æ ‡é¢˜", type: "text", placeholder: "è¯·è¾“å…¥ç¼´è´¹æ ‡é¢˜", emoji: "ğŸ“¢" },
                    { id: "greeting", label: "ç§°å‘¼", type: "text", placeholder: "è¯·è¾“å…¥ç§°å‘¼", emoji: "ğŸ‘‹" },
                    { id: "project", label: "ç¼´è´¹é¡¹ç›®", type: "text", placeholder: "è¯·è¾“å…¥ç¼´è´¹é¡¹ç›®", emoji: "ğŸ’°" },
                    { id: "amount", label: "ç¼´è´¹é‡‘é¢", type: "text", placeholder: "è¯·è¾“å…¥ç¼´è´¹é‡‘é¢", emoji: "ğŸ’´" },
                    { id: "method", label: "ç¼´è´¹æ–¹å¼", type: "textarea", placeholder: "è¯·è¾“å…¥ç¼´è´¹æ–¹å¼è¯´æ˜", emoji: "ğŸ’³" },
                    { id: "deadline", label: "æˆªæ­¢æ—¶é—´", type: "datetime-local", emoji: "ğŸ•’" }
                ],
                reminder: "âš ï¸ é€¾æœŸæœªç¼´è´¹å°†è§†ä¸ºè‡ªåŠ¨æ”¾å¼ƒï¼Œè¯·åˆç†å®‰æ’æ—¶é—´ï¼"
            },
            adjustment: {
                title: "è°ƒæ•´é€šçŸ¥",
                fields: [
                    { id: "title", label: "é€šçŸ¥æ ‡é¢˜", type: "text", placeholder: "è¯·è¾“å…¥è°ƒæ•´æ ‡é¢˜", emoji: "ğŸ“¢" },
                    { id: "greeting", label: "ç§°å‘¼", type: "text", placeholder: "è¯·è¾“å…¥ç§°å‘¼", emoji: "ğŸ‘‹" },
                    { id: "originalPlan", label: "åŸè®¡åˆ’å®‰æ’", type: "textarea", placeholder: "è¯·è¾“å…¥åŸè®¡åˆ’çš„æ—¶é—´ã€åœ°ç‚¹ã€å†…å®¹ç­‰", emoji: "ğŸ“‹" },
                    { id: "newPlan", label: "æ–°è°ƒæ•´å®‰æ’", type: "textarea", placeholder: "è¯·è¾“å…¥è°ƒæ•´åçš„æ—¶é—´ã€åœ°ç‚¹ã€å†…å®¹ç­‰", emoji: "ğŸ“" },
                    { id: "reason", label: "è°ƒæ•´åŸå› ", type: "textarea", placeholder: "è¯·è¾“å…¥è°ƒæ•´åŸå› ", emoji: "â“" }
                ],
                reminder: "âš ï¸ è¯·æ³¨æ„æ–°å®‰æ’çš„æ—¶é—´å’Œåœ°ç‚¹å˜åŒ–ï¼Œé¿å…é”™è¿‡é‡è¦ä¿¡æ¯ï¼"
            },
            review: {
                title: "è¯„å®¡é€šçŸ¥",
                fields: [
                    { id: "title", label: "é€šçŸ¥æ ‡é¢˜", type: "text", placeholder: "è¯·è¾“å…¥è¯„å®¡æ ‡é¢˜", emoji: "ğŸ“¢" },
                    { id: "greeting", label: "ç§°å‘¼", type: "text", placeholder: "è¯·è¾“å…¥ç§°å‘¼", emoji: "ğŸ‘‹" },
                    { id: "scope", label: "å®¡æ ¸èŒƒå›´", type: "textarea", placeholder: "è¯·è¾“å…¥å®¡æ ¸èŒƒå›´", emoji: "ğŸ¯" },
                    { id: "standards", label: "å®¡æ ¸æ ‡å‡†", type: "textarea", placeholder: "è¯·è¾“å…¥å®¡æ ¸æ ‡å‡†", emoji: "ğŸ“‹" },
                    { id: "materials", label: "ææ–™æ¸…å•", type: "textarea", placeholder: "è¯·è¾“å…¥éœ€è¦æäº¤çš„ææ–™", emoji: "ğŸ“" },
                    { id: "time", label: "å®¡æ ¸æ—¶é—´", type: "datetime-local", emoji: "ğŸ•" },
                    { id: "location", label: "å®¡æ ¸åœ°ç‚¹", type: "text", placeholder: "è¯·è¾“å…¥å®¡æ ¸åœ°ç‚¹", emoji: "ğŸ“" }
                ],
                reminder: "âš ï¸ è¯·ç¡®ä¿ææ–™å®Œæ•´ï¼Œå®¡æ ¸ç»“æœå°†ä»¥å®˜æ–¹é€šçŸ¥ä¸ºå‡†ï¼"
            },
            safety: {
                title: "å®‰å…¨æ£€æŸ¥é€šçŸ¥",
                fields: [
                    { id: "title", label: "é€šçŸ¥æ ‡é¢˜", type: "text", placeholder: "è¯·è¾“å…¥æ£€æŸ¥æ ‡é¢˜", emoji: "ğŸ“¢" },
                    { id: "greeting", label: "ç§°å‘¼", type: "text", placeholder: "è¯·è¾“å…¥ç§°å‘¼", emoji: "ğŸ‘‹" },
                    { id: "scope", label: "æ£€æŸ¥èŒƒå›´", type: "textarea", placeholder: "è¯·è¾“å…¥è®¾å¤‡æˆ–åŒºåŸŸèŒƒå›´", emoji: "ğŸ”" },
                    { id: "time", label: "æ£€æŸ¥æ—¶é—´", type: "datetime-local", emoji: "ğŸ•" },
                    { id: "purpose", label: "æ£€æŸ¥ç›®çš„", type: "textarea", placeholder: "è¯·è¾“å…¥å®‰å…¨éšæ‚£æ’æŸ¥ç­‰ç›®çš„", emoji: "ğŸ¯" },
                    { id: "requirements", label: "é…åˆè¦æ±‚", type: "textarea", placeholder: "è¯·è¾“å…¥éœ€è¦é…åˆçš„äº‹é¡¹", emoji: "ğŸ“‹" }
                ],
                reminder: "âš ï¸ æ£€æŸ¥æœŸé—´å¯èƒ½ä¼šå½±å“æ­£å¸¸ä½¿ç”¨ï¼Œè¯·é…åˆç›¸å…³å·¥ä½œï¼"
            }
        };

        // ä¼˜åŒ– changeTemplate å‡½æ•°
        function changeTemplate() {
            const templateSelect = document.getElementById('templateSelect');
            const selectedTemplate = templates[templateSelect.value];
            const templateFields = document.getElementById('templateFields');
            
            if (!selectedTemplate) return;

            // ä¿å­˜å½“å‰è¾“å…¥çš„å€¼
            const currentValues = {};
            document.querySelectorAll('#templateFields input, #templateFields textarea').forEach(input => {
                currentValues[input.id] = input.value;
            });

            templateFields.innerHTML = '';
            
            selectedTemplate.fields.forEach(field => {
                const fieldHtml = `
                    <div class="input-group">
                        <label for="${field.id}">${field.label}</label>
                        ${field.type === 'textarea' 
                            ? `<textarea id="${field.id}" rows="4" placeholder="${field.placeholder}">${currentValues[field.id] || ''}</textarea>`
                            : `<input type="${field.type}" id="${field.id}" placeholder="${field.placeholder}" value="${currentValues[field.id] || ''}">`
                        }
                        <span class="emoji-label">${field.emoji}</span>
                    </div>
                `;
                templateFields.innerHTML += fieldHtml;
            });

            // ä¸ºæ–°ç”Ÿæˆçš„è¾“å…¥æ¡†æ·»åŠ äº‹ä»¶ç›‘å¬
            const newInputs = templateFields.querySelectorAll('input, textarea');
            newInputs.forEach(input => {
                input.addEventListener('input', generateNotification);
                // æ·»åŠ è‡ªåŠ¨ä¿å­˜åŠŸèƒ½
                input.addEventListener('change', saveToLocalStorage);
            });

            // ä»æœ¬åœ°å­˜å‚¨æ¢å¤æ•°æ®
            restoreFromLocalStorage();

            // ç”Ÿæˆåˆå§‹é¢„è§ˆ
            generateNotification();
        }

        // æ·»åŠ æœ¬åœ°å­˜å‚¨åŠŸèƒ½
        function saveToLocalStorage() {
            const templateSelect = document.getElementById('templateSelect');
            const selectedTemplate = templateSelect.value;
            const formData = {};
            
            document.querySelectorAll('#templateFields input, #templateFields textarea').forEach(input => {
                formData[input.id] = input.value;
            });
            
            localStorage.setItem(`notificationData_${selectedTemplate}`, JSON.stringify(formData));
            showToast('ğŸ’¾ å·²è‡ªåŠ¨ä¿å­˜', 'info');
        }

        function restoreFromLocalStorage() {
            const templateSelect = document.getElementById('templateSelect');
            const selectedTemplate = templateSelect.value;
            const savedData = localStorage.getItem(`notificationData_${selectedTemplate}`);
            
            if (savedData) {
                const formData = JSON.parse(savedData);
                Object.keys(formData).forEach(id => {
                    const input = document.getElementById(id);
                    if (input) {
                        input.value = formData[id];
                    }
                });
            }
        }

        // æ·»åŠ æ¸…ç©ºè¡¨å•åŠŸèƒ½
        function clearForm() {
            const templateFields = document.getElementById('templateFields');
            const inputs = templateFields.querySelectorAll('input, textarea');
            inputs.forEach(input => {
                input.value = '';
            });
            generateNotification();
            
            // æ¸…é™¤æœ¬åœ°å­˜å‚¨
            const templateSelect = document.getElementById('templateSelect');
            localStorage.removeItem(`notificationData_${templateSelect.value}`);
        }

        function generateNotification() {
            const templateSelect = document.getElementById('templateSelect');
            const selectedTemplate = templates[templateSelect.value];
            
            if (!selectedTemplate) {
                return showResult();
            }

            try {
                let notificationContent = `<h2>ğŸŒŸ ${selectedTemplate.title} ğŸŒŸ</h2>`;
                
                selectedTemplate.fields.forEach(field => {
                    const element = document.getElementById(field.id);
                    if (!element) return;

                    const value = element.value || '';
                    if (field.type === 'datetime-local' && value) {
                        const date = new Date(value);
                        if (!isNaN(date.getTime())) {
                            notificationContent += `<p>${field.emoji} ${field.label}ï¼š${date.toLocaleString()}</p>`;
                        }
                    } else {
                        notificationContent += `<p>${field.emoji} ${field.label}ï¼š${value}</p>`;
                    }
                });

                if (selectedTemplate.reminder) {
                    notificationContent += `
                        <div class="deadline-warning">
                            ${selectedTemplate.reminder}
                        </div>
                    `;
                }

                notificationContent += '<p>ğŸŒˆ æœŸå¾…æ‚¨çš„å‚ä¸ï¼</p>';

                const result = document.getElementById('result');
                result.innerHTML = notificationContent;
                result.style.display = 'block';
            } catch (error) {
                console.error('ç”Ÿæˆé€šçŸ¥æ—¶å‘ç”Ÿé”™è¯¯:', error);
                alert('ç”Ÿæˆé€šçŸ¥æ—¶å‘ç”Ÿé”™è¯¯ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•');
            }
        }

        // æ·»åŠ è¡¨å•éªŒè¯åŠŸèƒ½
        function validateForm() {
            const templateSelect = document.getElementById('templateSelect');
            const selectedTemplate = templates[templateSelect.value];
            let isValid = true;
            let firstInvalidField = null;

            selectedTemplate.fields.forEach(field => {
                const element = document.getElementById(field.id);
                if (!element) return;

                // ç§»é™¤ä¹‹å‰çš„é”™è¯¯æç¤º
                element.classList.remove('invalid');
                const errorMsg = element.parentNode.querySelector('.error-message');
                if (errorMsg) errorMsg.remove();

                // æ£€æŸ¥å¿…å¡«å­—æ®µ
                if (element.value.trim() === '') {
                    isValid = false;
                    element.classList.add('invalid');
                    
                    // æ·»åŠ é”™è¯¯æç¤º
                    const error = document.createElement('div');
                    error.className = 'error-message';
                    error.textContent = `è¯·è¾“å…¥${field.label}`;
                    element.parentNode.appendChild(error);

                    if (!firstInvalidField) {
                        firstInvalidField = element;
                    }
                }
            });

            if (firstInvalidField) {
                firstInvalidField.focus();
                firstInvalidField.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }

            return isValid;
        }

        // ä¿®æ”¹å¤åˆ¶åŠŸèƒ½ï¼Œæ·»åŠ è¡¨å•éªŒè¯
        function copyNotification() {
            if (!validateForm()) {
                return;
            }

            generateNotification();
            const result = document.getElementById('result');
            
            // åˆ›å»ºä¸´æ—¶æ–‡æœ¬åŒºåŸŸ
            const tempTextArea = document.createElement('textarea');
            tempTextArea.value = result.innerText;
            document.body.appendChild(tempTextArea);
            tempTextArea.select();
            
            try {
                document.execCommand('copy');
                showToast('âœ… å¤åˆ¶æˆåŠŸï¼');
            } catch (err) {
                showToast('âŒ å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶', 'error');
            }
            
            document.body.removeChild(tempTextArea);
        }

        // æ·»åŠ ç»Ÿä¸€çš„æç¤ºæ¡†åŠŸèƒ½
        function showToast(message, type = 'success') {
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            toast.textContent = message;
            document.body.appendChild(toast);

            // æ·»åŠ åŠ¨ç”»æ•ˆæœ
            setTimeout(() => toast.classList.add('show'), 10);
            setTimeout(() => {
                toast.classList.remove('show');
                setTimeout(() => toast.remove(), 300);
            }, 2000);
        }

        function showResult() {
            const result = document.getElementById('result');
            const title = document.getElementById('title').value;
            const greeting = document.getElementById('greeting').value;
            const content = document.getElementById('content').value;
            const location = document.getElementById('location').value;
            const startTime = new Date(document.getElementById('startTime').value).toLocaleString();
            const endTime = new Date(document.getElementById('endTime').value).toLocaleString();
            const digitalSubmission = document.getElementById('digitalSubmission').value;
            const paperSubmission = document.getElementById('paperSubmission').value;

            result.innerHTML = `
                <h2>ğŸŒŸ ${title} ğŸŒŸ</h2>
                <p>${greeting}ï¼š</p>
                <p>${content}</p>
                <p>ğŸ“ æ´»åŠ¨åœ°ç‚¹ï¼š${location}</p>
                <p>â° å¼€å§‹æ—¶é—´ï¼š${startTime}</p>
                <p>âŒ› ç»“æŸæ—¶é—´ï¼š${endTime}</p>
                <p>ğŸ’» ç”µå­ç‰ˆææ–™æäº¤ï¼š${digitalSubmission}</p>
                <p>ğŸ“‹ çº¸è´¨ç‰ˆææ–™æäº¤ï¼š${paperSubmission}</p>
                <div class="deadline-warning">
                    âš ï¸ ç‰¹åˆ«æé†’ï¼šè¶…è¿‡æˆªæ­¢æ—¶é—´ä¸å†æ¥å—ä»»ä½•å½¢å¼çš„æŠ¥åå’Œææ–™æäº¤ï¼Œè¯·åˆç†å®‰æ’æ—¶é—´ï¼
                </div>
                <p>ğŸŒˆ æœŸå¾…æ‚¨çš„å‚ä¸ï¼</p>
            `;
            result.style.display = 'block';
        }

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', () => {
            // æ·»åŠ æ¸…ç©ºæŒ‰é’®
            const clearButton = document.createElement('button');
            clearButton.className = 'copy-btn';
            clearButton.style.backgroundColor = '#ff4757';
            clearButton.style.marginTop = '10px';
            clearButton.innerHTML = 'ğŸ—‘ï¸ æ¸…ç©ºè¡¨å•';
            clearButton.onclick = clearForm;
            
            const copyButton = document.querySelector('.copy-btn');
            copyButton.parentNode.insertBefore(clearButton, copyButton.nextSibling);
            
            changeTemplate(); // åˆå§‹åŒ–æ¨¡æ¿
        });
    </script>
</body>
</html> 
